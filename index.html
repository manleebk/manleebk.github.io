<!DOCTYPE html>
<html lang="vi">
  <head>
    <meta charset="UTF-8" />
    <title>Safari FAIL - Chrome OK</title>
  </head>
  <body>
    <h2>Test mailto v∆∞·ª£t gi·ªõi h·∫°n Safari</h2>
    <button onclick="openMail()">G·ª≠i Email c·ª±c d√†i</button>

    <script>
      function openMail() {
        // T·∫°o chu·ªói d√†i g·ªìm ti·∫øng Nh·∫≠t + emoji (~500 k√Ω t·ª±) ‚Üí URL > 5000 k√Ω t·ª±
        const jpText = "„Åì„Çå„ÅØÈùûÂ∏∏„Å´Èï∑„ÅÑÊó•Êú¨Ë™û„ÅÆ„ÉÜ„Ç≠„Çπ„Éà„Åß„ÅôüöÄüî•üí•".repeat(50);

        const subject = encodeURIComponent("„ÉÜ„Çπ„Éà - Safari FAIL, Chrome OK");
        const body = encodeURIComponent(jpText);

        const mailtoURL = `mailto:test@example.com?subject=${subject}&body=${body}`;

        console.log("URL length:", mailtoURL.length); // > 5000 k√Ω t·ª±

        window.location.href = mailtoURL;
        // Ho·∫∑c th·ª≠ window.open(mailtoURL)
      }
    </script>
  </body>
</html>
